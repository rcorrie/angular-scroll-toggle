(function(angular){"use strict";var scrollToggle=angular.module("angular-scroll-toggle",[]);scrollToggle.directive("scrollToggle",["$window","$timeout",scrollToggleDirective]);function scrollToggleDirective($window,$timeout){return{restrict:"AEC",template:"<div ng-transclude></div>",transclude:true,link:function(scope,element,attributes){var lastScrollTop=0;var scrollOptions={scrollClass:"scroll-toggle",scrollUpClass:"scroll-toggle-up",scrollDownClass:"scroll-toggle-down",offset:0};init();function init(){setOptions(attributes);element.addClass(scrollOptions.scrollClass);$timeout(function(){angular.element($window).bind("scroll",function(){scrollListener()})},500)}function scrollListener(){var direction=getScrollDirection(getScrollTop());applyToggle(direction)}function applyToggle(direction){if(direction===null)return;element.removeClass(direction?scrollOptions.scrollUpClass:scrollOptions.scrollDownClass);element.addClass(direction?scrollOptions.scrollDownClass:scrollOptions.scrollUpClass)}function setOptions(obj){var options=obj;for(var key in options){scrollOptions[key]=options[key]}}function getScrollDirection(scrollTop){if(scrollTop<parseInt(scrollOptions.offset))return null;var direction=scrollTop>lastScrollTop;setScrollTop(scrollTop);return direction}function setScrollTop(scrollTop){lastScrollTop=scrollTop}function getScrollTop(){return document.body.scrollTop}}}}})(angular);(function(angular){"use strict";var scrollToggle=angular.module("angular-scroll-toggle",[]);scrollToggle.directive("scrollToggle",["$window","$timeout",scrollToggleDirective]);function scrollToggleDirective($window,$timeout){return{restrict:"AC",scope:"=",template:"<div ng-transclude></div>",transclude:true,link:function(scope,element,attributes){var lastScrollTop=0;var scrollOptions={scrollClass:"scroll-toggle",scrollUpClass:"scroll-toggle-up",scrollDownClass:"scroll-toggle-down",offset:0};init();function init(){setOptions(attributes);element.addClass(scrollOptions.scrollClass);$timeout(function(){angular.element($window).bind("scroll",function(){scrollListener()})},500)}function scrollListener(){var direction=getScrollDirection(getScrollTop());applyToggle(direction)}function applyToggle(direction){if(direction===null)return;callback(direction,element)}function callback(direction,element){if(attributes.scrollToggle.length)scope[attributes.scrollToggle](direction,element);else defaultAction(direction);scope.$apply()}function defaultAction(direction){element.removeClass(direction?scrollOptions.scrollUpClass:scrollOptions.scrollDownClass);element.addClass(direction?scrollOptions.scrollDownClass:scrollOptions.scrollUpClass)}function setOptions(obj){var options=obj;for(var key in options){scrollOptions[key]=options[key]}}function getScrollDirection(scrollTop){if(scrollTop<parseInt(scrollOptions.offset))return null;var direction=scrollTop>lastScrollTop;setScrollTop(scrollTop);return direction}function setScrollTop(scrollTop){lastScrollTop=scrollTop}function getScrollTop(){return document.body.scrollTop}}}}})(angular);